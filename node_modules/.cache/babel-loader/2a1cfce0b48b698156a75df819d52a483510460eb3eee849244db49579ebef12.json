{"ast":null,"code":"import _regeneratorRuntime from\"/media/mobcoder/HDD 1TB1/vashuddha/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/media/mobcoder/HDD 1TB1/vashuddha/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/media/mobcoder/HDD 1TB1/vashuddha/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/media/mobcoder/HDD 1TB1/vashuddha/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/media/mobcoder/HDD 1TB1/vashuddha/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/media/mobcoder/HDD 1TB1/vashuddha/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import vishuddha from'../images/ai-bot.png';import user from'../images/user.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Chat(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),chatMessage=_useState2[0],setChatMessage=_useState2[1];var _useState3=useState({message:\"\"}),_useState4=_slicedToArray(_useState3,2),form=_useState4[0],setForm=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),gptMessage=_useState6[0],setGptMessage=_useState6[1];useEffect(function(){if(gptMessage.length>0){gptMessage.map(function(item){setChatMessage([].concat(_toConsumableArray(chatMessage),[item]));setGptMessage([]);});}},[gptMessage]);var handleChange=function handleChange(e){setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},e.target.name,e.target.value)));};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();setChatMessage([].concat(_toConsumableArray(chatMessage),[{user:\"self\",message:form.message}]));setForm(_objectSpread(_objectSpread({},form),{},{message:\"\"}));_context.next=5;return fetch('https://backend-h427.onrender.com/',{method:'POST',headers:{\"Content-Type\":'application/json'},body:JSON.stringify({message:form.message})});case 5:response=_context.sent;_context.next=8;return response.json();case 8:data=_context.sent;setGptMessage([].concat(_toConsumableArray(gptMessage),[{user:\"Chat GPT\",message:data.message}]));console.log(data.message);case 11:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"form\",{className:\"chat-main\",onSubmit:handleSubmit,children:[console.log(chatMessage),chatMessage.map(function(item,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"chat-text-field\",children:[/*#__PURE__*/_jsx(\"span\",{children:item.user=='self'?/*#__PURE__*/_jsx(\"img\",{src:user}):/*#__PURE__*/_jsx(\"img\",{src:vishuddha,className:\"vishuddha-img\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"message\",children:item.message})]});}),/*#__PURE__*/_jsx(\"footer\",{className:\"footer\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:handleChange,name:\"message\",value:form.message,placeholder:\"Type here anything you want to ask with Ai Vashuddha\"})})]});}export default Chat;","map":{"version":3,"names":["React","useEffect","useState","vishuddha","user","Chat","chatMessage","setChatMessage","message","form","setForm","gptMessage","setGptMessage","length","map","item","handleChange","e","target","name","value","handleSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","response","json","data","console","log","i"],"sources":["/media/mobcoder/HDD 1TB1/vashuddha/src/component/Chat.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport vishuddha from '../images/ai-bot.png'\nimport user from '../images/user.png'\nfunction Chat() {\n  const [chatMessage, setChatMessage] = useState([]);\n  const [form, setForm] = useState({\n    message: \"\",\n  });\n  const [gptMessage,setGptMessage]=useState([])\n  useEffect(()=>{\nif(gptMessage.length>0){\n  gptMessage.map(item=>{\n\n    setChatMessage([...chatMessage,item])\n    setGptMessage([])\n  })\n}\n  },[gptMessage])\n  const handleChange = (e) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n  const handleSubmit = async(e) => {\n    e.preventDefault();\n    setChatMessage([...chatMessage, { user: \"self\", message: form.message }]);\n    setForm({ ...form, message: \"\" });\n    const response =  await fetch('https://backend-h427.onrender.com/',{\n      method:'POST',\n      headers:{\n        \"Content-Type\":'application/json'\n      },\n      body:JSON.stringify({\n        message:form.message\n      })\n    })\n    const data =await response.json();\n    setGptMessage([...gptMessage, { user: \"Chat GPT\", message: data.message }]);\n    \n    console.log(data.message)\n  };\n  return (\n    <form className=\"chat-main\" onSubmit={handleSubmit}>\n      {console.log(chatMessage)}\n      {chatMessage.map((item, i) => {\n        return (\n          <div className=\"chat-text-field\">\n            <span>{item.user=='self'?<img src={user}/>:<img src={vishuddha} className='vishuddha-img'/>}</span><span className=\"message\">{item.message}</span>\n          </div>\n        );\n      })}\n      <footer className=\"footer\">\n        <input\n          type={\"text\"}\n          onChange={handleChange}\n          name=\"message\"\n          value={form.message}\n          placeholder=\"Type here anything you want to ask with Ai Vashuddha\"\n        />\n      </footer>\n    </form>\n  );\n}\n\nexport default Chat;\n"],"mappings":"yuBAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAOC,UAAS,KAAM,sBAAsB,CAC5C,MAAOC,KAAI,KAAM,oBAAoB,yFACrC,QAASC,KAAI,EAAG,CACd,cAAsCH,QAAQ,CAAC,EAAE,CAAC,wCAA3CI,WAAW,eAAEC,cAAc,eAClC,eAAwBL,QAAQ,CAAC,CAC/BM,OAAO,CAAE,EACX,CAAC,CAAC,yCAFKC,IAAI,eAAEC,OAAO,eAGpB,eAAiCR,QAAQ,CAAC,EAAE,CAAC,yCAAtCS,UAAU,eAACC,aAAa,eAC/BX,SAAS,CAAC,UAAI,CAChB,GAAGU,UAAU,CAACE,MAAM,CAAC,CAAC,CAAC,CACrBF,UAAU,CAACG,GAAG,CAAC,SAAAC,IAAI,CAAE,CAEnBR,cAAc,8BAAKD,WAAW,GAACS,IAAI,GAAE,CACrCH,aAAa,CAAC,EAAE,CAAC,CACnB,CAAC,CAAC,CACJ,CACE,CAAC,CAAC,CAACD,UAAU,CAAC,CAAC,CACf,GAAMK,aAAY,CAAG,QAAfA,aAAY,CAAIC,CAAC,CAAK,CAC1BP,OAAO,gCAAMD,IAAI,wBAAGQ,CAAC,CAACC,MAAM,CAACC,IAAI,CAAGF,CAAC,CAACC,MAAM,CAACE,KAAK,GAAG,CACvD,CAAC,CACD,GAAMC,aAAY,4FAAG,iBAAMJ,CAAC,qIAC1BA,CAAC,CAACK,cAAc,EAAE,CAClBf,cAAc,8BAAKD,WAAW,GAAE,CAAEF,IAAI,CAAE,MAAM,CAAEI,OAAO,CAAEC,IAAI,CAACD,OAAQ,CAAC,GAAE,CACzEE,OAAO,gCAAMD,IAAI,MAAED,OAAO,CAAE,EAAE,GAAG,CAAC,sBACVe,MAAK,CAAC,oCAAoC,CAAC,CACjEC,MAAM,CAAC,MAAM,CACbC,OAAO,CAAC,CACN,cAAc,CAAC,kBACjB,CAAC,CACDC,IAAI,CAACC,IAAI,CAACC,SAAS,CAAC,CAClBpB,OAAO,CAACC,IAAI,CAACD,OACf,CAAC,CACH,CAAC,CAAC,QARIqB,QAAQ,qCASIA,SAAQ,CAACC,IAAI,EAAE,QAA3BC,IAAI,eACVnB,aAAa,8BAAKD,UAAU,GAAE,CAAEP,IAAI,CAAE,UAAU,CAAEI,OAAO,CAAEuB,IAAI,CAACvB,OAAQ,CAAC,GAAE,CAE3EwB,OAAO,CAACC,GAAG,CAACF,IAAI,CAACvB,OAAO,CAAC,uDAC1B,kBAjBKa,aAAY,4CAiBjB,CACD,mBACE,cAAM,SAAS,CAAC,WAAW,CAAC,QAAQ,CAAEA,YAAa,WAChDW,OAAO,CAACC,GAAG,CAAC3B,WAAW,CAAC,CACxBA,WAAW,CAACQ,GAAG,CAAC,SAACC,IAAI,CAAEmB,CAAC,CAAK,CAC5B,mBACE,aAAK,SAAS,CAAC,iBAAiB,wBAC9B,sBAAOnB,IAAI,CAACX,IAAI,EAAE,MAAM,cAAC,YAAK,GAAG,CAAEA,IAAK,EAAE,cAAC,YAAK,GAAG,CAAED,SAAU,CAAC,SAAS,CAAC,eAAe,EAAE,EAAQ,2BAAM,SAAS,CAAC,SAAS,UAAEY,IAAI,CAACP,OAAO,EAAQ,GAC9I,CAEV,CAAC,CAAC,cACF,eAAQ,SAAS,CAAC,QAAQ,uBACxB,cACE,IAAI,CAAE,MAAO,CACb,QAAQ,CAAEQ,YAAa,CACvB,IAAI,CAAC,SAAS,CACd,KAAK,CAAEP,IAAI,CAACD,OAAQ,CACpB,WAAW,CAAC,sDAAsD,EAClE,EACK,GACJ,CAEX,CAEA,cAAeH,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}